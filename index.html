<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shipsy - AI-Powered Supply Chain Platform</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --shipsy-primary: #2563eb;
            --shipsy-primary-dark: #1d4ed8;
            --shipsy-secondary: #64748b;
            --shipsy-accent: #0ea5e9;
            --shipsy-success: #10b981;
            --shipsy-warning: #f59e0b;
            --shipsy-danger: #ef4444;
            --shipsy-gray-50: #f8fafc;
            --shipsy-gray-100: #f1f5f9;
            --shipsy-gray-200: #e2e8f0;
            --shipsy-gray-300: #cbd5e1;
            --shipsy-gray-400: #94a3b8;
            --shipsy-gray-500: #64748b;
            --shipsy-gray-600: #475569;
            --shipsy-gray-700: #334155;
            --shipsy-gray-800: #1e293b;
            --shipsy-gray-900: #0f172a;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--shipsy-gray-50);
            color: var(--shipsy-gray-900);
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header Styles */
        .header {
            background: white;
            border-bottom: 1px solid var(--shipsy-gray-200);
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 0;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .shipsy-logo {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            object-fit: contain;
            display: block;
        }

        .brand-text h1 {
            font-size: 24px;
            font-weight: 700;
            color: var(--shipsy-gray-900);
            letter-spacing: -0.5px;
        }

        .brand-text p {
            font-size: 14px;
            color: var(--shipsy-gray-500);
            font-weight: 500;
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 8px 16px;
            background: var(--shipsy-gray-50);
            border-radius: 8px;
            border: 1px solid var(--shipsy-gray-200);
        }

        .user-avatar {
            width: 32px;
            height: 32px;
            background: var(--shipsy-primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 14px;
        }

        .user-details span {
            display: block;
            font-size: 14px;
            font-weight: 600;
            color: var(--shipsy-gray-700);
        }

        .user-details small {
            font-size: 12px;
            color: var(--shipsy-gray-500);
        }

        /* Auth Container */
        .auth-container {
            max-width: 480px;
            margin: 60px auto;
            background: white;
            border-radius: 16px;
            border: 1px solid var(--shipsy-gray-200);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            overflow: hidden;
            
        }

        .auth-header {
            background: linear-gradient(135deg, var(--shipsy-primary) 0%, var(--shipsy-accent) 100%);
            padding: 32px;
            text-align: center;
            color: white;
        }

        .auth-header h2 {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 8px;
            letter-spacing: -0.5px;
        }

        .auth-header p {
            opacity: 0.9;
            font-size: 16px;
            font-weight: 400;
        }

        .auth-body {
            padding: 32px;
        }

        /* Main App */
        .main-app {
            padding: 32px 0;
        }

        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 32px;
            flex-wrap: wrap;
            gap: 16px;
        }

        .dashboard-title {
            font-size: 32px;
            font-weight: 700;
            color: var(--shipsy-gray-900);
            letter-spacing: -0.5px;
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 24px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--shipsy-gray-700);
            font-size: 14px;
        }

        .form-group input, 
        .form-group select {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid var(--shipsy-gray-300);
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.2s ease;
            background: white;
            color: var(--shipsy-gray-900);
        }

        .form-group input:focus, 
        .form-group select:focus {
            outline: none;
            border-color: var(--shipsy-primary);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px;
            background: var(--shipsy-gray-50);
            border-radius: 8px;
            border: 1px solid var(--shipsy-gray-200);
        }

        .checkbox-group input[type="checkbox"] {
            width: auto;
            margin: 0;
        }

        /* Button Styles */
        .btn {
            background: var(--shipsy-primary);
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.2s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            text-decoration: none;
            border: 1px solid transparent;
        }

        .btn:hover {
            background: var(--shipsy-primary-dark);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.25);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn-secondary {
            background: white;
            color: var(--shipsy-gray-700);
            border: 1px solid var(--shipsy-gray-300);
        }

        .btn-secondary:hover {
            background: var(--shipsy-gray-50);
            color: var(--shipsy-gray-900);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .btn-danger {
            background: var(--shipsy-danger);
            border-color: var(--shipsy-danger);
        }

        .btn-danger:hover {
            background: #dc2626;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(239, 68, 68, 0.25);
        }

        .btn-small {
            padding: 8px 16px;
            font-size: 12px;
        }

        /* Stats Grid */
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
        }

        .stat-card {
            background: white;
            border: 1px solid var(--shipsy-gray-200);
            border-radius: 12px;
            padding: 24px;
            transition: all 0.2s ease;
        }

        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        .stat-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
        }

        .stat-icon {
            width: 48px;
            height: 48px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .stat-icon.total { background: rgba(37, 99, 235, 0.1); color: var(--shipsy-primary); }
        .stat-icon.transit { background: rgba(14, 165, 233, 0.1); color: var(--shipsy-accent); }
        .stat-icon.delivered { background: rgba(16, 185, 129, 0.1); color: var(--shipsy-success); }
        .stat-icon.priority { background: rgba(245, 158, 11, 0.1); color: var(--shipsy-warning); }

        .stat-number {
            font-size: 36px;
            font-weight: 700;
            color: var(--shipsy-gray-900);
            line-height: 1;
            margin-bottom: 4px;
        }

        .stat-label {
            color: var(--shipsy-gray-600);
            font-size: 14px;
            font-weight: 500;
        }

        /* Controls */
        .controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
            flex-wrap: wrap;
            gap: 16px;
            background: white;
            padding: 20px;
            border-radius: 12px;
            border: 1px solid var(--shipsy-gray-200);
        }

        .filters {
            display: flex;
            gap: 12px;
            align-items: center;
            flex-wrap: wrap;
        }

        .filters select, 
        .filters input {
            padding: 10px 14px;
            border: 1px solid var(--shipsy-gray-300);
            border-radius: 6px;
            font-size: 14px;
            background: white;
            color: var(--shipsy-gray-900);
            min-width: 140px;
        }

        .filters input[type="text"] {
            min-width: 240px;
        }

        /* Shipment Grid */
        .shipment-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
        }

        .shipment-card {
            background: white;
            border: 1px solid var(--shipsy-gray-200);
            border-radius: 12px;
            padding: 24px;
            transition: all 0.2s ease;
            position: relative;
        }

        .shipment-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--shipsy-primary), var(--shipsy-accent));
            border-radius: 12px 12px 0 0;
        }

        .shipment-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            border-color: var(--shipsy-gray-300);
        }

        .shipment-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 20px;
        }

        .shipment-id {
            font-weight: 700;
            font-size: 18px;
            color: var(--shipsy-primary);
            letter-spacing: -0.25px;
        }

        .status-badge {
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .status-pending { 
            background: rgba(245, 158, 11, 0.1); 
            color: #d97706; 
            border: 1px solid rgba(245, 158, 11, 0.2);
        }
        .status-in-transit { 
            background: rgba(14, 165, 233, 0.1); 
            color: #0284c7; 
            border: 1px solid rgba(14, 165, 233, 0.2);
        }
        .status-delivered { 
            background: rgba(16, 185, 129, 0.1); 
            color: #059669; 
            border: 1px solid rgba(16, 185, 129, 0.2);
        }
        .status-cancelled { 
            background: rgba(239, 68, 68, 0.1); 
            color: #dc2626; 
            border: 1px solid rgba(239, 68, 68, 0.2);
        }

        .shipment-details {
            margin-bottom: 20px;
        }

        .detail-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
            padding: 8px 0;
            font-size: 14px;
        }

        .detail-row:not(:last-child) {
            border-bottom: 1px solid var(--shipsy-gray-100);
        }

        .detail-label {
            font-weight: 600;
            color: var(--shipsy-gray-600);
        }

        .detail-value {
            text-align: right;
            max-width: 60%;
            word-wrap: break-word;
            color: var(--shipsy-gray-900);
            font-weight: 500;
        }

        .priority-badge {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .priority-high { 
            background: rgba(239, 68, 68, 0.1); 
            color: #dc2626; 
        }
        .priority-medium { 
            background: rgba(245, 158, 11, 0.1); 
            color: #d97706; 
        }
        .priority-low { 
            background: rgba(16, 185, 129, 0.1); 
            color: #059669; 
        }

        .card-actions {
            display: flex;
            gap: 8px;
            justify-content: flex-end;
            padding-top: 16px;
            border-top: 1px solid var(--shipsy-gray-100);
        }

        /* Pagination */
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 8px;
            margin-top: 32px;
        }

        .pagination button {
            padding: 10px 16px;
            border: 1px solid var(--shipsy-gray-300);
            background: white;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: 500;
            color: var(--shipsy-gray-700);
        }

        .pagination button:hover:not(:disabled) {
            background: var(--shipsy-primary);
            color: white;
            border-color: var(--shipsy-primary);
        }

        .pagination button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .pagination .current-page {
            background: var(--shipsy-primary);
            color: white;
            border-color: var(--shipsy-primary);
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(15, 23, 42, 0.7);
            z-index: 1000;
            backdrop-filter: blur(4px);
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            border-radius: 16px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            border: 1px solid var(--shipsy-gray-200);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }

        .modal-header {
            padding: 24px 32px;
            border-bottom: 1px solid var(--shipsy-gray-200);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--shipsy-gray-50);
            border-radius: 16px 16px 0 0;
        }

        .modal-header h3 {
            color: var(--shipsy-gray-900);
            font-size: 20px;
            font-weight: 700;
            letter-spacing: -0.25px;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--shipsy-gray-400);
            padding: 4px;
            border-radius: 4px;
            transition: all 0.2s ease;
        }

        .close-btn:hover {
            color: var(--shipsy-danger);
            background: rgba(239, 68, 68, 0.1);
        }

        .modal-body {
            padding: 32px;
        }

        /* Messages */
        .error-message, .success-message {
            padding: 16px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: none;
            font-weight: 500;
            border: 1px solid;
        }

        .error-message {
            background: rgba(239, 68, 68, 0.1);
            color: #dc2626;
            border-color: rgba(239, 68, 68, 0.2);
        }

        .success-message {
            background: rgba(16, 185, 129, 0.1);
            color: #059669;
            border-color: rgba(16, 185, 129, 0.2);
        }

        .hidden {
            display: none;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .loading {
            opacity: 0.6;
            pointer-events: none;
        }

        .results-summary {
            margin-bottom: 16px;
            color: var(--shipsy-gray-600);
            font-size: 14px;
            font-weight: 500;
        }

        .demo-credentials {
            background: rgba(37, 99, 235, 0.05);
            border: 1px solid rgba(37, 99, 235, 0.1);
            border-radius: 12px;
            padding: 24px;
            margin-top: 24px;
        }

        .demo-credentials h4 {
            color: var(--shipsy-gray-900);
            margin-bottom: 16px;
            font-size: 16px;
            font-weight: 600;
        }

        .credentials-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .credential-item h5 {
            color: var(--shipsy-gray-700);
            margin-bottom: 8px;
            font-size: 14px;
            font-weight: 600;
        }

        .credential-item code {
            background: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 13px;
            color: var(--shipsy-primary);
            border: 1px solid var(--shipsy-gray-200);
            font-weight: 500;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 0 16px;
            }

            .header-content {
                flex-direction: column;
                gap: 16px;
                text-align: center;
            }

            .brand-text h1 {
                font-size: 20px;
            }

            .dashboard-header {
                flex-direction: column;
                align-items: stretch;
                text-align: center;
            }

            .dashboard-title {
                font-size: 24px;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .controls {
                flex-direction: column;
                align-items: stretch;
            }

            .filters {
                justify-content: center;
                flex-wrap: wrap;
            }

            .filters input[type="text"] {
                min-width: 200px;
            }

            .shipment-grid {
                grid-template-columns: 1fr;
            }

            .stats {
                grid-template-columns: repeat(2, 1fr);
            }

            .credentials-grid {
                grid-template-columns: 1fr;
            }

            .modal-content {
                width: 95%;
                margin: 20px;
            }

            .modal-header {
                padding: 20px;
            }

            .modal-body {
                padding: 20px;
            }
        }

        /* Animations */
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .slide-in {
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from { transform: translateX(-20px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo-section">
                    <img src="shipsy_logo.png" alt="Shipsy Logo" class="shipsy-logo">
                    <div class="brand-text">
                        <h1>Shipsy</h1>
                        <p>AI-Powered Supply Chain Platform</p>
                    </div>
                </div>
                <div class="header-actions" id="headerActions" style="display: none;">
                    <div class="user-info">
                        <div class="user-avatar" id="userAvatar">A</div>
                        <div class="user-details">
                            <span id="userRole">Administrator</span>
                            <small>Supply Chain Manager</small>
                        </div>
                    </div>
                    <button class="btn btn-secondary" onclick="logout()">Logout</button>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- Login Section -->
        <div id="loginSection" class="auth-container fade-in">
            <div class="auth-header">
                <h2>Welcome to Shipsy</h2>
                <p style="font-size:15px; opacity:0.9; font-weight:400;">Access your Shipsy dashboard</p>
            </div>
            <div class="auth-body">
                <div class="error-message" id="loginError"></div>
                <div class="success-message" id="loginSuccess"></div>
                
                <form id="loginForm">
                    <div class="form-group">
                        <label for="username">Username</label>
                        <input type="text" id="username" name="username" placeholder="Enter your username" required autocomplete="username">
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" name="password" placeholder="Enter your password" required autocomplete="current-password">
                    </div>
                    <button type="submit" class="btn" style="width: 100%;">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"/>
                            <polyline points="10,17 15,12 10,7"/>
                            <line x1="15" y1="12" x2="3" y2="12"/>
                        </svg>
                        Login
                    </button>
                </form>
                
                <div class="demo-credentials">
                    <h4>Note: For demo login use the following credentials:</h4>
                    <div class="credentials-grid">
                        <div class="credential-item">
                            <h5>Administrator</h5>
                            <p>Username: <code>admin</code></p>
                            <p>Password: <code>shipsy2025</code></p>
                        </div>
                        <div class="credential-item">
                            <h5>Manager</h5>
                            <p>Username: <code>manager</code></p>
                            <p>Password: <code>logistics</code></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Application -->
        <div id="mainApp" class="hidden">
            <div class="main-app fade-in">
                <div class="dashboard-header">
                    <h2 class="dashboard-title">Shipment Dashboard</h2>
                </div>

                <!-- Statistics -->
                <div class="stats">
                    <div class="stat-card">
                        <div class="stat-header">
                            <div>
                                <div class="stat-number" id="totalShipments">0</div>
                                <div class="stat-label">Total Shipments</div>
                            </div>
                            <div class="stat-icon total">ðŸ“¦</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <div>
                                <div class="stat-number" id="inTransitCount">0</div>
                                <div class="stat-label">In Transit</div>
                            </div>
                            <div class="stat-icon transit">ðŸšš</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <div>
                                <div class="stat-number" id="deliveredCount">0</div>
                                <div class="stat-label">Delivered</div>
                            </div>
                            <div class="stat-icon delivered">âœ…</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <div>
                                <div class="stat-number" id="priorityCount">0</div>
                                <div class="stat-label">High Priority</div>
                            </div>
                            <div class="stat-icon priority">ðŸ”¥</div>
                        </div>
                    </div>
                </div>

                <!-- Controls -->
                <div class="controls">
                    <button class="btn" onclick="openModal('create')">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"/>
                            <line x1="5" y1="12" x2="19" y2="12"/>
                        </svg>
                        Add New Shipment
                    </button>
                    <div class="filters">
                        <select id="statusFilter" onchange="applyFilters()">
                            <option value="">All Statuses</option>
                            <option value="pending">Pending</option>
                            <option value="in-transit">In Transit</option>
                            <option value="delivered">Delivered</option>
                            <option value="cancelled">Cancelled</option>
                        </select>
                        <select id="priorityFilter" onchange="applyFilters()">
                            <option value="">All Priorities</option>
                            <option value="high">High Priority</option>
                            <option value="medium">Medium Priority</option>
                            <option value="low">Low Priority</option>
                        </select>
                        <input type="text" id="searchFilter" placeholder="ðŸ” Search shipments..." oninput="debounceSearch()">
                    </div>
                </div>

                <!-- Results Summary -->
                <div id="resultsSummary" class="results-summary"></div>

                <!-- Shipments Grid -->
                <div id="shipmentsGrid" class="shipment-grid"></div>

                <!-- Pagination -->
                <div class="pagination" id="pagination"></div>
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div id="shipmentModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Add New Shipment</h3>
                <button class="close-btn" onclick="closeModal()">&times;</button>
            </div>
            
            <div class="modal-body">
                <div class="error-message" id="modalError"></div>
                <div class="success-message" id="modalSuccess"></div>
                
                <form id="shipmentForm">
                    <input type="hidden" id="editId">
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="trackingId">Tracking ID *</label>
                            <input type="text" id="trackingId" name="trackingId" placeholder="e.g., SHP-2025-001" required pattern="[A-Z]{3}-\d{4}-\d{3}" title="Format: ABC-YYYY-NNN">
                        </div>
                        <div class="form-group">
                            <label for="customerName">Customer Name *</label>
                            <input type="text" id="customerName" name="customerName" placeholder="Enter customer name" required minlength="2" maxlength="100">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="origin">Origin Location *</label>
                            <input type="text" id="origin" name="origin" placeholder="e.g., Mumbai, India" required>
                        </div>
                        <div class="form-group">
                            <label for="destination">Destination *</label>
                            <input type="text" id="destination" name="destination" placeholder="e.g., Dubai, UAE" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="status">Shipment Status *</label>
                            <select id="status" name="status" required>
                                <option value="">Select Status</option>
                                <option value="pending">Pending</option>
                                <option value="in-transit">In Transit</option>
                                <option value="delivered">Delivered</option>
                                <option value="cancelled">Cancelled</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="priority">Priority Level *</label>
                            <select id="priority" name="priority" required>
                                <option value="">Select Priority</option>
                                <option value="high">High Priority</option>
                                <option value="medium">Medium Priority</option>
                                <option value="low">Low Priority</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <div class="checkbox-group">
                            <input type="checkbox" id="expressDelivery" name="expressDelivery">
                            <label for="expressDelivery">ðŸš€ Express Delivery (24-48 hours)</label>
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 12px; justify-content: flex-end; margin-top: 32px;">
                        <button type="button" class="btn btn-secondary" onclick="closeModal()">Cancel</button>
                        <button type="submit" class="btn" id="submitBtn">
                            <span id="submitText">Save Shipment</span>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        // Application State Management
        class ShipmentTracker {
            constructor() {
                this.shipments = [];
                this.filteredShipments = [];
                this.currentPage = 1;
                this.itemsPerPage = 6;
                this.editingId = null;
                this.currentUser = null;
                this.searchTimeout = null;
                
                this.initializeApp();
            }

            // Initialize application
            initializeApp() {
                this.loadSampleData();
                this.setupEventListeners();
                this.showLoginSection();
            }

            // Load sample logistics data
            loadSampleData() {
                this.shipments = [
                    {
                        id: 1,
                        trackingId: 'SHP-2025-001',
                        customerName: 'Acme Electronics Ltd',
                        origin: 'Mumbai, India',
                        destination: 'Dubai, UAE',
                        status: 'in-transit',
                        priority: 'high',
                        expressDelivery: true,
                        createdAt: new Date('2025-01-15T10:30:00'),
                        estimatedDelivery: '2025-01-20',
                        updatedAt: new Date('2025-01-16T14:22:00')
                    },
                    {
                        id: 2,
                        trackingId: 'SHP-2025-002',
                        customerName: 'Global Retail Corporation',
                        origin: 'Delhi, India',
                        destination: 'London, UK',
                        status: 'pending',
                        priority: 'medium',
                        expressDelivery: false,
                        createdAt: new Date('2025-01-16T09:15:00'),
                        estimatedDelivery: '2025-01-28'
                    },
                    {
                        id: 3,
                        trackingId: 'SHP-2025-003',
                        customerName: 'Tech Solutions Private Ltd',
                        origin: 'Bangalore, India',
                        destination: 'Sydney, Australia',
                        status: 'delivered',
                        priority: 'low',
                        expressDelivery: false,
                        createdAt: new Date('2025-01-10T16:45:00'),
                        estimatedDelivery: '2025-01-18'
                    },
                    {
                        id: 4,
                        trackingId: 'SHP-2025-004',
                        customerName: 'Manufacturing Inc',
                        origin: 'Chennai, India',
                        destination: 'New York, USA',
                        status: 'in-transit',
                        priority: 'high',
                        expressDelivery: true,
                        createdAt: new Date('2025-01-17T11:20:00'),
                        estimatedDelivery: '2025-01-22'
                    },
                    {
                        id: 5,
                        trackingId: 'SHP-2025-005',
                        customerName: 'Pharma Exports',
                        origin: 'Hyderabad, India',
                        destination: 'Berlin, Germany',
                        status: 'cancelled',
                        priority: 'medium',
                        expressDelivery: false,
                        createdAt: new Date('2025-01-12T08:30:00'),
                        estimatedDelivery: '2025-01-25'
                    },
                    {
                        id: 6,
                        trackingId: 'SHP-2025-006',
                        customerName: 'Fashion Brands Ltd',
                        origin: 'Kolkata, India',
                        destination: 'Paris, France',
                        status: 'delivered',
                        priority: 'low',
                        expressDelivery: false,
                        createdAt: new Date('2025-01-08T12:30:00'),
                        estimatedDelivery: '2025-01-15'
                    },
                    {
                        id: 7,
                        trackingId: 'SHP-2025-007',
                        customerName: 'Auto Components Corp',
                        origin: 'Pune, India',
                        destination: 'Detroit, USA',
                        status: 'in-transit',
                        priority: 'high',
                        expressDelivery: true,
                        createdAt: new Date('2025-01-18T08:45:00'),
                        estimatedDelivery: '2025-01-23'
                    }
                ];
            }

            // Setup event listeners
            setupEventListeners() {
                document.getElementById('loginForm').addEventListener('submit', (e) => this.handleLogin(e));
                document.getElementById('shipmentForm').addEventListener('submit', (e) => this.handleShipmentSubmit(e));
                
                // Keyboard shortcuts
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') this.closeModal();
                    if (e.ctrlKey && e.key === 'n') {
                        e.preventDefault();
                        if (!document.getElementById('mainApp').classList.contains('hidden')) {
                            this.openModal('create');
                        }
                    }
                });

                // Close modal on outside click
                window.addEventListener('click', (e) => {
                    const modal = document.getElementById('shipmentModal');
                    if (e.target === modal) this.closeModal();
                });
            }

            // Authentication Methods
            handleLogin(e) {
                e.preventDefault();
                const username = document.getElementById('username').value.trim();
                const password = document.getElementById('password').value;
                
                this.hideMessages();
                
                const validCredentials = [
                    { username: 'admin', password: 'shipsy2025', role: 'Administrator', avatar: 'A' },
                    { username: 'manager', password: 'logistics', role: 'Logistics Manager', avatar: 'M' }
                ];
                
                const user = validCredentials.find(cred => 
                    cred.username === username && cred.password === password
                );
                
                if (user) {
                    this.currentUser = user;
                    this.showSuccess('loginSuccess', `Welcome ${user.role}! Redirecting to dashboard...`);
                    setTimeout(() => this.showMainApp(), 1000);
                } else {
                    this.showError('loginError', 'Invalid credentials. Please check your username and password.');
                }
            }

            logout() {
                this.currentUser = null;
                this.showLoginSection();
                this.resetForm();
            }

            showLoginSection() {
                document.getElementById('loginSection').classList.remove('hidden');
                document.getElementById('mainApp').classList.add('hidden');
                document.getElementById('headerActions').style.display = 'none';
                document.getElementById('username').value = '';
                document.getElementById('password').value = '';
                this.hideMessages();
                
            }

            showMainApp() {
                document.getElementById('loginSection').classList.add('hidden');
                document.getElementById('mainApp').classList.remove('hidden');
                document.getElementById('headerActions').style.display = 'flex';
                document.getElementById('userRole').textContent = this.currentUser.role;
                document.getElementById('userAvatar').textContent = this.currentUser.avatar;
                
                this.initializeDashboard();
            }

            // Dashboard Initialization
            initializeDashboard() {
                this.applyFilters();
                this.updateStatistics();
                this.updateResultsSummary();
            }

            updateStatistics() {
                const stats = {
                    total: this.shipments.length,
                    inTransit: this.shipments.filter(s => s.status === 'in-transit').length,
                    delivered: this.shipments.filter(s => s.status === 'delivered').length,
                    highPriority: this.shipments.filter(s => s.priority === 'high').length
                };
                
                this.animateCounter('totalShipments', stats.total);
                this.animateCounter('inTransitCount', stats.inTransit);
                this.animateCounter('deliveredCount', stats.delivered);
                this.animateCounter('priorityCount', stats.highPriority);
            }

            animateCounter(elementId, target) {
                const element = document.getElementById(elementId);
                const start = parseInt(element.textContent) || 0;
                const duration = 1000;
                const startTime = performance.now();
                
                const animate = (currentTime) => {
                    const elapsed = currentTime - startTime;
                    const progress = Math.min(elapsed / duration, 1);
                    const current = Math.floor(start + (target - start) * progress);
                    element.textContent = current;
                    
                    if (progress < 1) {
                        requestAnimationFrame(animate);
                    }
                };
                
                requestAnimationFrame(animate);
            }

            // CRUD Operations
            handleShipmentSubmit(e) {
                e.preventDefault();
                
                this.hideMessages();
                this.setLoading(true);
                
                const formData = new FormData(e.target);
                const shipmentData = {
                    trackingId: formData.get('trackingId').trim().toUpperCase(),
                    customerName: formData.get('customerName').trim(),
                    origin: formData.get('origin').trim(),
                    destination: formData.get('destination').trim(),
                    status: formData.get('status'),
                    priority: formData.get('priority'),
                    expressDelivery: formData.has('expressDelivery')
                };
                
                // Validation
                const validation = this.validateShipmentData(shipmentData);
                if (!validation.isValid) {
                    this.showError('modalError', validation.message);
                    this.setLoading(false);
                    return;
                }
                
                // Simulate API call delay
                setTimeout(() => {
                    try {
                        if (this.editingId) {
                            this.updateShipment(this.editingId, shipmentData);
                            this.showSuccess('modalSuccess', 'Shipment updated successfully!');
                        } else {
                            this.createShipment(shipmentData);
                            this.showSuccess('modalSuccess', 'Shipment created successfully!');
                        }
                        
                        setTimeout(() => {
                            this.closeModal();
                            this.applyFilters();
                            this.updateStatistics();
                        }, 1500);
                        
                    } catch (error) {
                        this.showError('modalError', 'An error occurred. Please try again.');
                    } finally {
                        this.setLoading(false);
                    }
                }, 800);
            }

            validateShipmentData(data) {
                // Required field validation
                const requiredFields = [
                    { field: 'trackingId', label: 'Tracking ID' },
                    { field: 'customerName', label: 'Customer Name' },
                    { field: 'origin', label: 'Origin' },
                    { field: 'destination', label: 'Destination' },
                    { field: 'status', label: 'Status' },
                    { field: 'priority', label: 'Priority' }
                ];
                
                for (let { field, label } of requiredFields) {
                    if (!data[field] || data[field].trim() === '') {
                        return { isValid: false, message: `${label} is required.` };
                    }
                }
                
                // Tracking ID format validation
                if (!/^[A-Z]{3}-\d{4}-\d{3}$/.test(data.trackingId)) {
                    return { 
                        isValid: false, 
                        message: 'Tracking ID must follow format: ABC-YYYY-NNN (e.g., SHP-2025-001)' 
                    };
                }
                
                // Duplicate tracking ID check
                const existingShipment = this.shipments.find(s => 
                    s.trackingId.toLowerCase() === data.trackingId.toLowerCase() && 
                    s.id !== this.editingId
                );
                if (existingShipment) {
                    return { 
                        isValid: false, 
                        message: 'Tracking ID already exists. Please use a unique tracking ID.' 
                    };
                }
                
                // Customer name length validation
                if (data.customerName.length < 2 || data.customerName.length > 100) {
                    return { 
                        isValid: false, 
                        message: 'Customer name must be between 2 and 100 characters.' 
                    };
                }
                
                return { isValid: true };
            }

            createShipment(data) {
                const newShipment = {
                    ...data,
                    id: Date.now() + Math.random(),
                    createdAt: new Date(),
                    estimatedDelivery: this.calculateEstimatedDelivery(data.expressDelivery, data.status)
                };
                
                this.shipments.unshift(newShipment);
            }

            updateShipment(id, data) {
                const index = this.shipments.findIndex(s => s.id === id);
                if (index !== -1) {
                    this.shipments[index] = {
                        ...this.shipments[index],
                        ...data,
                        updatedAt: new Date(),
                        estimatedDelivery: this.calculateEstimatedDelivery(
                            data.expressDelivery, 
                            data.status,
                            this.shipments[index].createdAt
                        )
                    };
                }
            }

            deleteShipment(id) {
                const shipment = this.shipments.find(s => s.id === id);
                const confirmMessage = `Are you sure you want to delete shipment "${shipment.trackingId}"?\n\nThis action cannot be undone.`;
                
                if (confirm(confirmMessage)) {
                    this.shipments = this.shipments.filter(s => s.id !== id);
                    this.applyFilters();
                    this.updateStatistics();
                    
                    this.showTemporaryMessage('Shipment deleted successfully', 'success');
                }
            }

            calculateEstimatedDelivery(isExpress, status, createdDate = new Date()) {
                if (status === 'delivered' || status === 'cancelled') {
                    return 'N/A';
                }
                
                const baseDate = new Date(createdDate);
                const deliveryDays = isExpress ? 2 : 7;
                const estimatedDate = new Date(baseDate.getTime() + (deliveryDays * 24 * 60 * 60 * 1000));
                
                return estimatedDate.toISOString().split('T')[0];
            }

            // Filtering and Search
            applyFilters() {
                const statusFilter = document.getElementById('statusFilter').value;
                const priorityFilter = document.getElementById('priorityFilter').value;
                const searchFilter = document.getElementById('searchFilter').value.toLowerCase();
                
                this.filteredShipments = this.shipments.filter(shipment => {
                    const matchesStatus = !statusFilter || shipment.status === statusFilter;
                    const matchesPriority = !priorityFilter || shipment.priority === priorityFilter;
                    const matchesSearch = !searchFilter || 
                        shipment.trackingId.toLowerCase().includes(searchFilter) ||
                        shipment.customerName.toLowerCase().includes(searchFilter) ||
                        shipment.origin.toLowerCase().includes(searchFilter) ||
                        shipment.destination.toLowerCase().includes(searchFilter);
                    
                    return matchesStatus && matchesPriority && matchesSearch;
                });
                
                this.currentPage = 1;
                this.renderShipments();
                this.renderPagination();
                this.updateResultsSummary();
            }

            debounceSearch() {
                clearTimeout(this.searchTimeout);
                this.searchTimeout = setTimeout(() => {
                    this.applyFilters();
                }, 300);
            }

            updateResultsSummary() {
                const summary = document.getElementById('resultsSummary');
                const total = this.filteredShipments.length;
                const allTotal = this.shipments.length;
                
                if (total === allTotal) {
                    summary.textContent = `Showing all ${total} shipments`;
                } else {
                    summary.textContent = `Showing ${total} of ${allTotal} shipments`;
                }
            }

            // Rendering Methods
            renderShipments() {
                const grid = document.getElementById('shipmentsGrid');
                const startIndex = (this.currentPage - 1) * this.itemsPerPage;
                const endIndex = startIndex + this.itemsPerPage;
                const pageShipments = this.filteredShipments.slice(startIndex, endIndex);
                
                if (pageShipments.length === 0) {
                    grid.innerHTML = `
                        <div style="grid-column: 1/-1; text-align: center; padding: 60px 20px; color: var(--shipsy-gray-500);">
                            <div style="font-size: 48px; margin-bottom: 16px;">ðŸ“¦</div>
                            <h3 style="margin-bottom: 12px; color: var(--shipsy-gray-700); font-size: 20px;">No shipments found</h3>
                            <p style="margin-bottom: 24px; color: var(--shipsy-gray-500);">Try adjusting your filters or search terms.</p>
                            <button class="btn" onclick="app.clearFilters()">Clear Filters</button>
                        </div>
                    `;
                    return;
                }
                
                grid.innerHTML = pageShipments.map((shipment, index) => `
                    <div class="shipment-card slide-in" style="animation-delay: ${index * 0.1}s">
                        <div class="shipment-header">
                            <div class="shipment-id">${shipment.trackingId}</div>
                            <div class="status-badge status-${shipment.status}">
                                ${this.formatStatus(shipment.status)}
                            </div>
                        </div>
                        <div class="shipment-details">
                            <div class="detail-row">
                                <span class="detail-label">Customer</span>
                                <span class="detail-value">${shipment.customerName}</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">Route</span>
                                <span class="detail-value">${shipment.origin} â†’ ${shipment.destination}</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">Priority</span>
                                <span class="priority-badge priority-${shipment.priority}">
                                    ${shipment.priority.toUpperCase()}
                                </span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">Express</span>
                                <span>${shipment.expressDelivery ? 'ðŸš€ Yes' : 'ðŸ“¦ Standard'}</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">Created</span>
                                <span>${this.formatDate(shipment.createdAt)}</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">Est. Delivery</span>
                                <span>${this.formatDeliveryDate(shipment.estimatedDelivery)}</span>
                            </div>
                        </div>
                        <div class="card-actions">
                            <button class="btn btn-small" onclick="app.openModal('edit', ${shipment.id})" title="Edit shipment">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
                                    <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
                                </svg>
                                Edit
                            </button>
                            <button class="btn btn-small btn-danger" onclick="app.deleteShipment(${shipment.id})" title="Delete shipment">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="3,6 5,6 21,6"/>
                                    <path d="M19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"/>
                                </svg>
                                Delete
                            </button>
                        </div>
                    </div>
                `).join('');
            }

            renderPagination() {
                const pagination = document.getElementById('pagination');
                const totalPages = Math.ceil(this.filteredShipments.length / this.itemsPerPage);
                
                if (totalPages <= 1) {
                    pagination.innerHTML = '';
                    return;
                }
                
                let paginationHTML = `
                    <button onclick="app.changePage(${this.currentPage - 1})" ${this.currentPage === 1 ? 'disabled' : ''}>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="15,18 9,12 15,6"/>
                        </svg>
                        Previous
                    </button>
                `;
                
                const startPage = Math.max(1, this.currentPage - 2);
                const endPage = Math.min(totalPages, this.currentPage + 2);
                
                if (startPage > 1) {
                    paginationHTML += `<button onclick="app.changePage(1)">1</button>`;
                    if (startPage > 2) {
                        paginationHTML += `<span style="padding: 0 12px; color: var(--shipsy-gray-400);">...</span>`;
                    }
                }
                
                for (let i = startPage; i <= endPage; i++) {
                    paginationHTML += `
                        <button onclick="app.changePage(${i})" ${this.currentPage === i ? 'class="current-page"' : ''}>
                            ${i}
                        </button>
                    `;
                }
                
                if (endPage < totalPages) {
                    if (endPage < totalPages - 1) {
                        paginationHTML += `<span style="padding: 0 12px; color: var(--shipsy-gray-400);">...</span>`;
                    }
                    paginationHTML += `<button onclick="app.changePage(${totalPages})">${totalPages}</button>`;
                }
                
                paginationHTML += `
                    <button onclick="app.changePage(${this.currentPage + 1})" ${this.currentPage === totalPages ? 'disabled' : ''}>
                        Next
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="9,18 15,12 9,6"/>
                        </svg>
                    </button>
                `;
                
                pagination.innerHTML = paginationHTML;
            }

            changePage(page) {
                const totalPages = Math.ceil(this.filteredShipments.length / this.itemsPerPage);
                if (page >= 1 && page <= totalPages) {
                    this.currentPage = page;
                    this.renderShipments();
                    this.renderPagination();
                    
                    document.getElementById('shipmentsGrid').scrollIntoView({ 
                        behavior: 'smooth', 
                        block: 'start' 
                    });
                }
            }

            // Modal Management
            openModal(mode, id = null) {
                const modal = document.getElementById('shipmentModal');
                const title = document.getElementById('modalTitle');
                
                this.hideMessages();
                this.resetForm();
                
                if (mode === 'edit' && id) {
                    const shipment = this.shipments.find(s => s.id === id);
                    if (shipment) {
                        title.innerHTML = `
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 8px;">
                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
                                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
                            </svg>
                            Edit Shipment
                        `;
                        this.editingId = id;
                        this.populateForm(shipment);
                    }
                } else {
                    title.innerHTML = `
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 8px;">
                            <line x1="12" y1="5" x2="12" y2="19"/>
                            <line x1="5" y1="12" x2="19" y2="12"/>
                        </svg>
                        Add New Shipment
                    `;
                    this.editingId = null;
                    this.generateNextTrackingId();
                }
                
                modal.style.display = 'block';
                document.body.style.overflow = 'hidden';
                
                setTimeout(() => {
                    const firstInput = modal.querySelector('input:not([type="hidden"])');
                    if (firstInput) firstInput.focus();
                }, 100);
            }

            closeModal() {
                document.getElementById('shipmentModal').style.display = 'none';
                document.body.style.overflow = 'auto';
                this.resetForm();
                this.editingId = null;
            }

            populateForm(shipment) {
                document.getElementById('editId').value = shipment.id;
                document.getElementById('trackingId').value = shipment.trackingId;
                document.getElementById('customerName').value = shipment.customerName;
                document.getElementById('origin').value = shipment.origin;
                document.getElementById('destination').value = shipment.destination;
                document.getElementById('status').value = shipment.status;
                document.getElementById('priority').value = shipment.priority;
                document.getElementById('expressDelivery').checked = shipment.expressDelivery;
            }

            resetForm() {
                document.getElementById('shipmentForm').reset();
                document.getElementById('editId').value = '';
                this.hideMessages();
                this.setLoading(false);
            }

            generateNextTrackingId() {
                const year = new Date().getFullYear();
                const nextNumber = String(this.shipments.length + 1).padStart(3, '0');
                document.getElementById('trackingId').value = `SHP-${year}-${nextNumber}`;
            }

            // Utility Methods
            formatStatus(status) {
                const statusMap = {
                    'pending': 'Pending',
                    'in-transit': 'In Transit',
                    'delivered': 'Delivered',
                    'cancelled': 'Cancelled'
                };
                return statusMap[status] || status;
            }

            formatDate(date) {
                if (typeof date === 'string') date = new Date(date);
                return date.toLocaleDateString('en-US', {
                    year: 'numeric',
                    month: 'short',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });
            }

            formatDeliveryDate(dateStr) {
                if (dateStr === 'N/A') return 'N/A';
                const date = new Date(dateStr);
                return date.toLocaleDateString('en-US', {
                    year: 'numeric',
                    month: 'short',
                    day: 'numeric'
                });
            }

            clearFilters() {
                document.getElementById('statusFilter').value = '';
                document.getElementById('priorityFilter').value = '';
                document.getElementById('searchFilter').value = '';
                this.applyFilters();
            }

            // UI Helper Methods
            showError(elementId, message) {
                const errorElement = document.getElementById(elementId);
                errorElement.textContent = message;
                errorElement.style.display = 'block';
                errorElement.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }

            showSuccess(elementId, message) {
                const successElement = document.getElementById(elementId);
                successElement.textContent = message;
                successElement.style.display = 'block';
                successElement.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }

            hideMessages() {
                document.querySelectorAll('.error-message, .success-message').forEach(el => {
                    el.style.display = 'none';
                });
            }

            setLoading(isLoading) {
                const submitBtn = document.getElementById('submitBtn');
                const submitText = document.getElementById('submitText');
                
                if (isLoading) {
                    submitBtn.disabled = true;
                    submitText.textContent = 'Saving...';
                    submitBtn.style.opacity = '0.7';
                } else {
                    submitBtn.disabled = false;
                    submitText.textContent = this.editingId ? 'Update Shipment' : 'Save Shipment';
                    submitBtn.style.opacity = '1';
                }
            }

            showTemporaryMessage(message, type = 'success') {
                const messageDiv = document.createElement('div');
                const bgColor = type === 'success' 
                    ? 'rgba(16, 185, 129, 0.9)' 
                    : 'rgba(239, 68, 68, 0.9)';
                const textColor = 'white';
                
                messageDiv.style.cssText = `
                    position: fixed;
                    top: 24px;
                    right: 24px;
                    background: ${bgColor};
                    color: ${textColor};
                    padding: 16px 24px;
                    border-radius: 12px;
                    box-shadow: 0 10px 25px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
                    z-index: 10000;
                    font-weight: 500;
                    font-size: 14px;
                    backdrop-filter: blur(8px);
                    animation: slideInRight 0.3s ease-out;
                    display: flex;
                    align-items: center;
                    gap: 8px;
                `;
                
                const icon = type === 'success' ? 'âœ“' : 'âœ•';
                messageDiv.innerHTML = `<span style="font-weight: 700;">${icon}</span> ${message}`;
                
                document.body.appendChild(messageDiv);
                
                setTimeout(() => {
                    messageDiv.style.animation = 'slideOutRight 0.3s ease-in';
                    setTimeout(() => {
                        if (document.body.contains(messageDiv)) {
                            document.body.removeChild(messageDiv);
                        }
                    }, 300);
                }, 3000);
            }
        }

        // Global app instance
        let app;

        // Initialize application when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            app = new ShipmentTracker();
        });

        // Global functions for onclick handlers
        function logout() { app.logout(); }
        function openModal(mode, id) { app.openModal(mode, id); }
        function closeModal() { app.closeModal(); }
        function applyFilters() { app.applyFilters(); }
        function debounceSearch() { app.debounceSearch(); }

        // Add additional animations
        const additionalAnimations = `
            @keyframes slideInRight {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            
            @keyframes slideOutRight {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
            
            .loading::after {
                content: '';
                position: absolute;
                top: 50%;
                left: 50%;
                width: 20px;
                height: 20px;
                margin: -10px 0 0 -10px;
                border: 2px solid #f3f3f3;
                border-top: 2px solid var(--shipsy-primary);
                border-radius: 50%;
                animation: spin 1s linear infinite;
            }
        `;
        
        const styleSheet = document.createElement('style');
        styleSheet.textContent = additionalAnimations;
        document.head.appendChild(styleSheet);
    </script>
</body>
</html>